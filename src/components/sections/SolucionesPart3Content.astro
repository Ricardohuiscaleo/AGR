---
// =====================================================================
// COMPONENTE PARA 'soluciones-part3' - Solo Carrusel de Casos de Uso
// =====================================================================
interface Props {
  section: any;
}
const { section } = Astro.props;

// Funci√≥n para generar imagen de fondo usando Unsplash
const generarImagenFondo = async (keywords) => {
  try {
    const searchTerm = keywords[Math.floor(Math.random() * keywords.length)];
    const response = await fetch(`https://api.unsplash.com/search/photos?query=${encodeURIComponent(searchTerm)}&per_page=10&orientation=landscape`, {
      headers: { 'Authorization': 'Client-ID YOUR_UNSPLASH_ACCESS_KEY' }
    });
    const data = await response.json();
    return data.results?.[Math.floor(Math.random() * data.results.length)]?.urls?.regular || null;
  } catch {
    return null;
  }
};

const casosDeUso = [
  {
    icono: '‚öñÔ∏è',
    segmento: 'Abogados',
    titulo: 'RAG Jur√≠dico 24/7',
    descripcion: 'Automatiza b√∫squedas jurisprudenciales, redacci√≥n de contratos y consultas de normativas. Tu asistente legal que conoce toda tu documentaci√≥n.',
    beneficios: ['B√∫squeda instant√°nea en expedientes', 'Redacci√≥n autom√°tica de documentos', 'Consultas normativas 24/7'],
    colorAccent: '#00ff41',
    cta: 'Optimizar Procesos Legales',
    keywords: 'law,justice,legal,courthouse'
  },
  {
    icono: 'üè•',
    segmento: 'Cl√≠nicas',
    titulo: 'Administraci√≥n M√©dica RAG',
    descripcion: 'Optimiza gesti√≥n de historiales, citas y consultas m√©dicas. Acceso instant√°neo a protocolos y informaci√≥n de pacientes.',
    beneficios: ['Gesti√≥n de historiales m√©dicos', 'Programaci√≥n inteligente de citas', 'Consultas de protocolos m√©dicos'],
    colorAccent: '#00ff41',
    cta: 'Acelerar Atenci√≥n M√©dica',
    keywords: 'medical,healthcare,hospital,clinic'
  },
  {
    icono: 'üéì',
    segmento: 'Educaci√≥n',
    titulo: 'Gesti√≥n Academica Smart',
    descripcion: 'Centraliza informaci√≥n acad√©mica, procedimientos y consultas estudiantiles. Tu asistente educativo que conoce toda la instituci√≥n.',
    beneficios: ['Consultas acad√©micas automatizadas', 'Gesti√≥n de procedimientos', 'Soporte estudiantil 24/7'],
    colorAccent: '#00ff41',
    cta: 'Modernizar Educaci√≥n',
    keywords: 'education,university,learning,academic'
  },
  {
    icono: 'üì¶',
    segmento: 'Log√≠stica',
    titulo: 'Cadena Log√≠stica RAG',
    descripcion: 'Automatiza seguimiento de env√≠os, inventarios y procedimientos operativos. Control total de tu cadena log√≠stica.',
    beneficios: ['Tracking autom√°tico de env√≠os', 'Gesti√≥n inteligente de inventarios', 'Optimizaci√≥n de rutas'],
    colorAccent: '#00ff41',
    cta: 'Optimizar Operaciones',
    keywords: 'logistics,warehouse,shipping,supply chain'
  },
  {
    icono: 'üîß',
    segmento: 'Servicios',
    titulo: 'Soporte T√©cnico RAG',
    descripcion: 'Centraliza manuales t√©cnicos, procedimientos y atenci√≥n al cliente. Tu base de conocimiento t√©cnico siempre disponible.',
    beneficios: ['Manuales t√©cnicos accesibles', 'Procedimientos estandarizados', 'Soporte t√©cnico inteligente'],
    colorAccent: '#00ff41',
    cta: 'Mejorar Soporte T√©cnico',
    keywords: 'technical support,maintenance,tools,engineering'
  },
  {
    icono: 'üè≠',
    segmento: 'Manufactura',
    titulo: 'F√°brica Inteligente',
    descripcion: 'Optimiza procesos productivos, control de calidad y mantenimiento. Tu asistente de producci√≥n experto.',
    beneficios: ['Control de calidad automatizado', 'Gesti√≥n de mantenimiento', 'Optimizaci√≥n de procesos'],
    colorAccent: '#00ff41',
    cta: 'Revolucionar Producci√≥n',
    keywords: 'factory,manufacturing,industrial,production'
  },
  {
    icono: 'üè¶',
    segmento: 'Finanzas',
    titulo: 'Banca Inteligente RAG',
    descripcion: 'Automatiza an√°lisis financiero, gesti√≥n de riesgos y atenci√≥n al cliente. Tu experto financiero disponible 24/7.',
    beneficios: ['An√°lisis de riesgo automatizado', 'Consultas de productos financieros', 'Gesti√≥n de compliance'],
    colorAccent: '#00ff41',
    cta: 'Modernizar Servicios Financieros',
    keywords: 'finance,banking,money,investment'
  },
  {
    icono: 'üè™',
    segmento: 'Retail',
    titulo: 'Comercio Inteligente',
    descripcion: 'Optimiza inventarios, personaliza experiencias de compra y automatiza atenci√≥n al cliente. Tu asistente de ventas experto.',
    beneficios: ['Recomendaciones personalizadas', 'Gesti√≥n autom√°tica de stock', 'Soporte al cliente 24/7'],
    colorAccent: '#00ff41',
    cta: 'Impulsar Ventas',
    keywords: 'retail,shopping,store,commerce'
  },
  {
    icono: 'üè®',
    segmento: 'Hoteler√≠a',
    titulo: 'Hospitalidad RAG',
    descripcion: 'Centraliza informaci√≥n de servicios, automatiza reservas y mejora experiencia del hu√©sped. Tu concierge digital.',
    beneficios: ['Reservas automatizadas', 'Informaci√≥n de servicios instant', 'Gesti√≥n de incidencias'],
    colorAccent: '#00ff41',
    cta: 'Mejorar Experiencia Hu√©sped',
    keywords: 'hotel,hospitality,luxury,service'
  },
  {
    icono: 'üéØ',
    segmento: 'Marketing',
    titulo: 'Agencia Digital RAG',
    descripcion: 'Automatiza an√°lisis de campa√±as, gesti√≥n de contenido y reporting. Tu estratega de marketing siempre activo.',
    beneficios: ['An√°lisis autom√°tico de campa√±as', 'Generaci√≥n de reportes', 'Gesti√≥n de contenidos'],
    colorAccent: '#00ff41',
    cta: 'Optimizar Campa√±as',
    keywords: 'marketing,advertising,digital,campaign'
  },
  {
    icono: 'üöó',
    segmento: 'Automotriz',
    titulo: 'Concesionario Inteligente',
    descripcion: 'Automatiza inventario de veh√≠culos, gesti√≥n de servicios y atenci√≥n al cliente. Tu asesor automotriz experto.',
    beneficios: ['Cat√°logo de veh√≠culos autom√°tico', 'Gesti√≥n de servicios t√©cnicos', 'Seguimiento post-venta'],
    colorAccent: '#00ff41',
    cta: 'Acelerar Ventas Automotrices',
    keywords: 'automotive,cars,dealership,vehicles'
  },
  {
    icono: 'üè†',
    segmento: 'Inmobiliaria',
    titulo: 'Bienes Ra√≠ces RAG',
    descripcion: 'Centraliza portafolio de propiedades, automatiza consultas y optimiza proceso de ventas. Tu experto inmobiliario virtual.',
    beneficios: ['B√∫squeda autom√°tica de propiedades', 'Comparativas de mercado', 'Gesti√≥n de documentaci√≥n'],
    colorAccent: '#00ff41',
    cta: 'Acelerar Ventas Inmobiliarias',
    keywords: 'real estate,property,house,architecture'
  },
  {
    icono: '‚ö°',
    segmento: 'Energ√≠a',
    titulo: 'Utilities Inteligentes',
    descripcion: 'Optimiza gesti√≥n energ√©tica, automatiza reportes y mejora atenci√≥n al cliente. Tu consultor energ√©tico 24/7.',
    beneficios: ['Monitoreo autom√°tico de consumo', 'Reportes de eficiencia', 'Gesti√≥n de incidencias'],
    colorAccent: '#00ff41',
    cta: 'Optimizar Gesti√≥n Energ√©tica',
    keywords: 'energy,power,electricity,renewable'
  },
  {
    icono: 'üì±',
    segmento: 'Telecomunicaciones',
    titulo: 'Telco RAG Expert',
    descripcion: 'Automatiza soporte t√©cnico, gesti√≥n de planes y resoluci√≥n de incidencias. Tu especialista en conectividad.',
    beneficios: ['Diagn√≥stico autom√°tico de red', 'Gesti√≥n de planes y tarifas', 'Soporte t√©cnico especializado'],
    colorAccent: '#00ff41',
    cta: 'Mejorar Experiencia Cliente',
    keywords: 'telecommunications,network,connectivity,mobile'
  },
  {
    icono: 'üé®',
    segmento: 'Creatividad',
    titulo: 'Estudio Creativo RAG',
    descripcion: 'Centraliza recursos creativos, automatiza briefings y optimiza flujo de proyectos. Tu director creativo digital.',
    beneficios: ['Biblioteca de recursos autom√°tica', 'Generaci√≥n de briefings', 'Gesti√≥n de proyectos creativos'],
    colorAccent: '#00ff41',
    cta: 'Potenciar Creatividad',
    keywords: 'creative,design,art,studio'
  }
];
---

<!-- Carrusel COMPLETAMENTE directo sin contenedores -->
<div class="carrusel-scroll" id="carrusel-casos">
  {casosDeUso.map((caso, index) => (
    <div class="caso-card" data-keywords={caso.keywords} data-index={index}>
      <!-- Header de la tarjeta -->
      <div class="caso-header">
        <div class="caso-icono">
          {caso.icono}
        </div>
        <div class="caso-segmento">{caso.segmento}</div>
      </div>

      <!-- Contenido -->
      <div class="caso-content">
        <h3 class="caso-titulo">{caso.titulo}</h3>
        <p class="caso-descripcion">{caso.descripcion}</p>

        <!-- Lista de beneficios -->
        <ul class="caso-beneficios">
          {caso.beneficios.map((beneficio) => (
            <li class="caso-beneficio">
              <span class="beneficio-bullet">‚ñ∏</span>
              {beneficio}
            </li>
          ))}
        </ul>
      </div>

      <!-- CTA -->
      <div class="caso-cta">
        <a 
          href="#contacto-part2"
          class="cta-button"
        >
          <span class="cta-text">{caso.cta}</span>
          <span class="cta-arrow">‚Üí</span>
        </a>
      </div>
    </div>
  ))}
</div>

<!-- Indicador de scroll directo -->
<div class="scroll-indicator">
  <p class="text-sm text-gray-400 text-center mt-8">
    ‚Üê Desliza horizontalmente para ver m√°s soluciones ‚Üí
  </p>
</div>

<style>
  /* Contenedor scrolleable horizontal SIN degradado lateral */
  .carrusel-scroll {
    display: flex;
    gap: 24px;
    padding: 2px 0px; /* Reducir padding horizontal */
    overflow-x: auto;
    scroll-behavior: smooth;
    scrollbar-width: none;
    -ms-overflow-style: none;
    width: 100%;
    height: 100%,
    /* REMOVIDO: mask para desvanecimiento lateral */
  }

  /* Ocultar scrollbar en webkit browsers */
  .carrusel-scroll::-webkit-scrollbar {
    display: none;
  }

  /* Cards del carrusel con imagen de fondo din√°mica */
  .caso-card {
    position: relative;
    border: 2px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    padding: 32px;
    transition: all 0.4s ease;
    backdrop-filter: blur(10px);
    overflow: hidden;
    flex: 1;
    min-width: 588px;
    height: auto;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }

  /* Overlay con degradado oscuro y noise */
  .caso-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image:
      linear-gradient(135deg, rgba(0, 0, 0, 0.85) 0%, rgba(31, 41, 55, 0.9) 50%, rgba(75, 85, 99, 0.85) 100%),
      url('https://assets.codepen.io/16327/noise-e82662fe.png');
    background-blend-mode: multiply, overlay;
    background-repeat: no-repeat, repeat;
    z-index: 1;
    pointer-events: none;
  }

  /* Contenido por encima del overlay */
  .caso-card > * {
    position: relative;
    z-index: 2;
  }

  /* Pseudo-elemento para shimmer effect */
  .caso-card::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(0, 255, 65, 0.1) 20%,
      rgba(0, 255, 65, 0.3) 50%,
      rgba(0, 255, 65, 0.1) 80%,
      transparent 100%
    );
    transition: left 0.6s ease;
    pointer-events: none;
    z-index: 3;
  }

  /* Hover solo con shimmer - SIN zoom */
  .caso-card:hover {
    border-color: rgba(0, 255, 65, 0.4);
    box-shadow: 
      0 8px 25px rgba(0, 0, 0, 0.3),
      0 0 20px rgba(0, 255, 65, 0.2);
  }

  /* Shimmer intro en hover */
  .caso-card:hover::after {
    left: 100%;
  }

  /* Shimmer outro cuando sale el hover */
  .caso-card:not(:hover)::after {
    left: -100%;
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.05) 20%,
      rgba(255, 255, 255, 0.1) 50%,
      rgba(255, 255, 255, 0.05) 80%,
      transparent 100%
    );
    transition: left 0.4s ease-out;
  }


  .caso-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 20px;
  }

  .caso-icono {
    font-size: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 56px;
    height: 56px;
    background: rgba(0, 255, 65, 0.1);
    border-radius: 12px;
    border: 1px solid rgba(0, 255, 65, 0.3);
  }

  .caso-segmento {
    font-family: 'Courier New', monospace;
    font-size: 16px;
    font-weight: 700;
    color: #00ff41;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .caso-content {
    margin-bottom: 24px;
  }

  .caso-titulo {
    font-size: 32px; /* Aumentado de 28px */
    font-weight: 700;
    color: white;
    margin-bottom: 16px;
    line-height: 1.3;
  }

  .caso-descripcion {
    font-size: 18px;
    color: rgba(255, 255, 255, 0.8);
    line-height: 1.6;
    margin-bottom: 20px;
  }

  .caso-beneficios {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .caso-beneficio {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    font-size: 17px;
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 8px;
    line-height: 1.5;
  }

  .beneficio-bullet {
    color: #00ff41;
    font-weight: 700;
    margin-top: 2px;
    flex-shrink: 0;
  }

  .caso-cta {
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    padding-top: 20px;
  }

  .cta-button {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    background: rgba(0, 255, 65, 0.1);
    border: 1px solid rgba(0, 255, 65, 0.3);
    border-radius: 8px;
    padding: 16px 20px; /* Aumentado padding */
    color: #00ff41;
    font-family: 'Courier New', monospace;
    font-size: 16px; /* Aumentado de 14px */
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    text-decoration: none; /* Asegurar que no hay underline */
  }

  .cta-button:hover {
    background: rgba(0, 255, 65, 0.2);
    border-color: #00ff41;
    color: white;
    transform: translateY(-1px); /* Efecto de elevaci√≥n */
    box-shadow: 0 4px 12px rgba(0, 255, 65, 0.2);
  }

  .cta-arrow {
    transition: transform 0.3s ease;
  }

  .cta-button:hover .cta-arrow {
    transform: translateX(4px);
  }



  /* Responsive */
  @media (max-width: 768px) {
    .carrusel-scroll {
      padding: 2px 16px;
      gap: 16px;
    }

    .caso-card {
      min-width: 300px;
      max-width: 300px;
      padding: 18px;
    }

    .caso-icono {
      width: 44px;
      height: 44px;
      font-size: 24px;
    }

    .caso-titulo {
      font-size: 22px;
    }

    .caso-descripcion {
      font-size: 16px;
    }

    .caso-beneficio {
      font-size: 15px;
    }

    .caso-segmento {
      font-size: 14px;
    }

    .cta-button {
      font-size: 14px;
      padding: 12px 16px;
    }
  }

  @media (max-width: 480px) {
    .carrusel-scroll {
      padding: 2px 12px;
      gap: 12px;
    }

    .caso-card {
      min-width: 280px;
      max-width: 280px;
      padding: 16px;
    }

    .caso-titulo {
      font-size: 20px;
    }

    .caso-descripcion {
      font-size: 15px;
    }

    .caso-beneficio {
      font-size: 14px;
    }

    .caso-segmento {
      font-size: 13px;
    }

    .cta-button {
      font-size: 13px;
      padding: 10px 14px;
    }
  }

  /* Animaci√≥n shimmer para efectos de texto */
  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  .animate-shimmer {
    animation: shimmer 3s ease-in-out infinite;
  }
</style>

<script>
  // Cargar im√°genes de fondo din√°micamente
  document.addEventListener('DOMContentLoaded', async () => {
    const cards = document.querySelectorAll('.caso-card');
    
    // Im√°genes de respaldo por tema
    const fallbackImages = {
      'law,justice,legal,courthouse': 'https://images.unsplash.com/photo-1589829545856-d10d557cf95f?w=800&h=600&fit=crop&auto=format&q=80',
      'medical,healthcare,hospital,clinic': 'https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=800&h=600&fit=crop&auto=format&q=80',
      'education,university,learning,academic': 'https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=800&h=600&fit=crop&auto=format&q=80',
      'logistics,warehouse,shipping,supply chain': 'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=800&h=600&fit=crop&auto=format&q=80',
      'technical support,maintenance,tools,engineering': 'https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=800&h=600&fit=crop&auto=format&q=80',
      'factory,manufacturing,industrial,production': 'https://images.unsplash.com/photo-1565793298595-6a879b1d9492?w=800&h=600&fit=crop&auto=format&q=80',
      'finance,banking,money,investment': 'https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=800&h=600&fit=crop&auto=format&q=80',
      'retail,shopping,store,commerce': 'https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=800&h=600&fit=crop&auto=format&q=80',
      'hotel,hospitality,luxury,service': 'https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800&h=600&fit=crop&auto=format&q=80',
      'marketing,advertising,digital,campaign': 'https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=600&fit=crop&auto=format&q=80',
      'automotive,cars,dealership,vehicles': 'https://images.unsplash.com/photo-1549317661-bd32c8ce0db2?w=800&h=600&fit=crop&auto=format&q=80',
      'real estate,property,house,architecture': 'https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=800&h=600&fit=crop&auto=format&q=80',
      'energy,power,electricity,renewable': 'https://images.unsplash.com/photo-1466611653911-95081537e5b7?w=800&h=600&fit=crop&auto=format&q=80',
      'telecommunications,network,connectivity,mobile': 'https://images.unsplash.com/photo-1558494949-ef010cbdcc31?w=800&h=600&fit=crop&auto=format&q=80',
      'creative,design,art,studio': 'https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?w=800&h=600&fit=crop&auto=format&q=80'
    };
    
    cards.forEach((card, index) => {
      const htmlCard = card as HTMLElement;
      const keywords = htmlCard.dataset.keywords;
      const fallbackUrl = fallbackImages[keywords] || 'https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=800&h=600&fit=crop&auto=format&q=80';
      
      // Aplicar imagen de respaldo inmediatamente
      htmlCard.style.backgroundImage = `url('${fallbackUrl}')`;
    });
  });
</script>


